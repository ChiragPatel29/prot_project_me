<!-- <div ng-init="newSingle()"></div> -->
<!--<nav aria-label="breadcrumb" class="breadcrumb-nav">-->
<!--  <ol class="breadcrumb">-->
<!--  	<li class="breadcrumb-item"><a href="{{currentRouteHref}}">{{getTitle('list')}}</a></li>-->
<!--    <li class="breadcrumb-item active" aria-current="page">{{M.TITLE_ADD_PREFIX}}&nbsp;<spinner></spinner></li>-->
<!--  </ol>-->
<!--</nav>-->
<bread-crumb args='[{ "text": "Myprofile", "link": "#!/{{currentRoute}}profiles"}, { "text": "{{M.TITLE_EDIT_PREFIX}}"}]' ></bread-crumb>

<section class="row justify-content-center">
<section class="form-card">
    <div class="card" ng-init=" getSingledietitian()">
    	<div class="card-header"><span class="large">{{M.TITLE_EDIT_PREFIX}} Dietitian</span>
	    	<div class="float-right">
			<a href="{{currentRouteHref}}">
				<button type="button" class="btn btn-dark btn-sm" onclick="history.back();">
				    {{M.TITLE_LISTING}}
				</button>
			</a>
			<button type="button" class="btn btn-dark btn-sm" onclick="history.back();">
			    {{M.TITLE_BACK}}
			</button>
		</div>
    	</div>
    	<div class="card-body">
            <div ng-include src="getTemplate('single-header')"></div>
            
            <form name="forms.tasksForm" id="forms.tasksForm">
                <div class="form-group row">
                    <label for="task_title" class="col-md-4 col-form-label text-md-right">Image:</label>
                        <div class="col-md-6">
                            <input id="image" name="image" type="file" class="form-control"  ng-model="diet.image" myfile-input  ng-disabled="locked">
                            <img ng-src="{{S.baseUrl+'/'+diet.image}}" width="200" height="200" style="float: center;">
                        </div>
                        <div class="col-md-1" ng-if="!locked && diet.image" >
                                <button type='button' class="btn btn-link" ng-click="diet.image = ''">Clear</button>
                        </div>
                </div>

                <div class="form-group row">
                    <label for="task_title" class="col-md-4 col-form-label text-md-right">First Name:</label>
                    <div class="col-md-6">
                         <input id="diet_name" name="diet_name" type="text" class="form-control" ng-model="diet.name" required ng-disabled="locked" required>
                    </div>
                    <div ng-messages="forms.tasksForm.diet_name.$error" ng-show="forms.tasksForm.diet_name.$dirty">
                        <div class="small col-red" ng-message="required">{{M.REQUIRED}}</div>
                    </div>
                </div> 

                <div class="form-group row">
                    <label for="task_title" class="col-md-4 col-form-label text-md-right">Last Name</label>
                    <div class="col-md-6">
                        <input id="diet_qualification" name="diet_qualification" type="text" class="form-control" ng-model="diet.qualification" required ng-disabled="locked" required autofocus>
                    </div>
                    <div ng-messages="forms.tasksForm.diet_qualification.$error" ng-show="forms.tasksForm.diet_qualification.$dirty">
                        <div class="small col-red" ng-message="required">{{M.REQUIRED}}</div>
                    </div>
                </div>

                <div class="form-group row">
                    <label for="task_title" class="col-md-4 col-form-label text-md-right">Email:</label>
                    <div class="col-md-6">
                        <input id="diet_mail" name="diet_mail" type="text" class="form-control" ng-model="diet.email" required ng-disabled="locked" required autofocus>
                    </div>
                    <div ng-messages="forms.tasksForm.diet_mail.$error" ng-show="forms.tasksForm.diet_mail.$dirty">
                        <div class="small col-red" ng-message="required">{{M.REQUIRED}}</div>
                    </div>
                </div>

                <div class="form-group row">
                    <label for="task_title" class="col-md-4 col-form-label text-md-right">Contact No:</label>
                    <div class="col-md-6">
                        <input id="diet_cno" name="diet_cno" type="text" class="form-control" ng-model="diet.contact_no" required ng-disabled="locked" required autofocus>
                    </div>
                    <div ng-messages="forms.tasksForm.diet_cno.$error" ng-show="forms.tasksForm.diet_cno.$dirty">
                        <div class="small col-red" ng-message="required">{{M.REQUIRED}}</div>
                    </div>
                </div>

                
                <div class="form-group row">
                    <label for="task_title" class="col-md-4 col-form-label text-md-right">Description:</label>
                    <div class="col-md-6">
                        <input id="diet_des" name="diet_des" type="text" class="form-control" ng-model="diet.description" required ng-disabled="locked" required autofocus>
                    </div>
                    <div ng-messages="forms.tasksForm.diet_des.$error" ng-show="forms.tasksForm.diet_des.$dirty">
                        <div class="small col-red" ng-message="required">{{M.REQUIRED}}</div>
                    </div>
                </div>

                <div class="form-group row">
                    <label for="task_title" class="col-md-4 col-form-label text-md-right">Address 1:</label>
                    <div class="col-md-6">
                        <input id="diet_add1" name="diet_add1" type="text" class="form-control" ng-model="diet.address1" required ng-disabled="locked" required autofocus>
                    </div>
                    <div ng-messages="forms.tasksForm.diet_add1.$error" ng-show="forms.tasksForm.diet_add1.$dirty">
                        <div class="small col-red" ng-message="required">{{M.REQUIRED}}</div>
                    </div>
                </div>

                <div class="form-group row">
                    <label for="task_title" class="col-md-4 col-form-label text-md-right">Address 2:</label>
                    <div class="col-md-6">
                        <input id="diet_add2" name="diet_add2" type="text" class="form-control" ng-model="diet.address2" required ng-disabled="locked" required autofocus>
                    </div>
                    <div ng-messages="forms.tasksForm.diet_add2.$error" ng-show="forms.tasksForm.diet_add2.$dirty">
                        <div class="small col-red" ng-message="required">{{M.REQUIRED}}</div>
                    </div>
                </div>

                <div class="form-group row">
                    <label for="task_title" class="col-md-4 col-form-label text-md-right">City:</label>
                    <div class="col-md-6">
                        <input id="diet_city" name="diet_city" type="text" class="form-control" ng-model="diet.city" required ng-disabled="locked" required autofocus>
                    </div>
                    <div ng-messages="forms.tasksForm.diet_city.$error" ng-show="forms.tasksForm.diet_city.$dirty">
                        <div class="small col-red" ng-message="required">{{M.REQUIRED}}</div>
                    </div>
                </div>

                <div class="form-group row">
                    <label for="task_title" class="col-md-4 col-form-label text-md-right">State:</label>
                    <div class="col-md-6">
                        <input id="diet_state" name="diet_state" type="text" class="form-control" ng-model="diet.state" required ng-disabled="locked" required autofocus>
                    </div>
                    <div ng-messages="forms.tasksForm.diet_state.$error" ng-show="forms.tasksForm.diet_state.$dirty">
                        <div class="small col-red" ng-message="required">{{M.REQUIRED}}</div>
                    </div>
                </div>

                <div class="form-group row">
                    <label for="task_is_active" class="col-md-4 col-form-label text-md-right">{{M.FIELD_ACTIVE}}:</label>
                    <div class="col-md-6">
                        <div class="custom-control custom-switch form-switch">
                            <input class="custom-control-input" type="checkbox" id="task_is_active" name="task_is_active" ng-disabled="locked" ng-true-value="1" ng-false-value="0" ng-model="data.single.is_active">
                            <label class="custom-control-label" for="task_is_active"></label>
                        </div>
                    </div>
                </div>

                <div class="col-md-6 offset-md-4">
                    <button id="saveButton" name="saveButton" type="submit" class="btn btn-success" ng-click="onUpdateBase(diet)" ng-if="!locked"  form="forms.{{resourceName}}Form">
                        {{M.BTN_UPDATE}}
                    </button>
                    <button id="editButton" name="editButton" type="button" class="btn btn-dark" ng-if="locked"  ng-click="toggleLock()">
                        {{M.BTN_EDIT}}
                    </button>
                    &nbsp;<spinner></spinner>
                </div>


                <div class="form-group row">
                    <div class='col-md-6 offset-md-4'>
                      <p class="small col-red" ng-if="error">{{error}}</p>
                      <div class="alerts-container"></div>
                    </div>
                </div>
            </form>

            
            <div>&nbsp;</div>
            <div class='col-md-6 offset-md-4'>
		<p class="small col-blue" ng-if="message">{{message}}</p>		
		<p class="small col-red" ng-if="error">{{error}}</p>
            	<div class="alerts-container"></div>
            </div>
            <div>
             
                <div ng-if="data.records" class="float-right small italic bold">{{data.records}}
                   record{{data.records == 1 ? '' : 's'}}</div>
             </div>
            <div ng-include src="getTemplate('single-footer')"></div>
    	</div>
        </div>
</section>
</section>
